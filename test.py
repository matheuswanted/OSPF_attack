from Commom.PacketBuilder import *


def test_checksum():
    fields = [0x02, 0x02, 0x00, 0x20, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00, 0x00, 0x01, 0xf6, 0xff, 0x00,
              0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05, 0xdc, 0x00, 0x01, 0x00, 0x00, 0x01, 0x01]
    print format(PacketBuilder().__checksum__(fields, len(fields), [12,13,16,17,18,19,20,21,22,23]),'02x')
    print 'should be 0xf6fe'


if __name__ == "__main__":
    test_checksum()
